<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>招贤纳士-详细页面</title>
<link href="style.css" rel="stylesheet" type="text/css" />
<script src="js/data.js"></script>
</head>

<body>
  <div id="wrap">
  	<div class="left">
    	<h2>招贤纳士</h2>
      <ul>
      	<!--<li class="focus"><a href="javascript:;">社会招聘</a></li>
      	<li><a href="javascript:;">校园招聘</a></li>-->
      </ul>
    </div>
  	<div class="right">
    	<div class="title">
      	<img src="img/shzp.gif" />
      </div>
      <div class="info content">
        <h2>{{zw}}</h2>
        <div class="span_list">
          <span class="l">招聘公司：{{gs}}>></span>
          <span>公司性质：{{xz}}</span>
          <span class="l">职位性质：{{gz}}</span>
          <span>工作地点：{{dd}}</span>
          <span class="l">工作经验：{{jy}}</span>
          <span>学历要求：{{xl}}</span>
          <span class="l">招聘人数：{{rs}}人</span>
          <span>薪资待遇：{{dy}}</span>
          <span class="l">发布日期：{{sj}}</span>
          <span>招聘类型：{{lx}}</span>
        </div>
        <div class="clear"></div>
        <dl>
          <dt>工作职责：</dt>
          <dd>从事计算机软件的测试工作。</dd>
        </dl>
        <dl class="ques">
          <!--<dt>岗位要求：</dt>
          <dd>1.计算机或相关专业本科以上学历；</dd>
          <dd>2.从事软件测试工作3年及以上；</dd>
          <dd>3.具备良好的沟通能力和快速学习能力；</dd>
          <dd>4.精通测试策略和方法、测试用例设计；</dd>
          <dd>5.熟悉DB2、AIX等平台的基本操作；</dd>
          <dd>6.具备2年以上金融IT行业经验，特别是有金融行业相关业务的测试或者开发工作经验者优先。</dd>-->
        </dl>
        <!--<p>有意者请投递简历至 liuyajuan@fulan.com.cn</p>-->
      </div>
    </div>
    <div class="clear"></div>
  </div>
<script>
(function () {
	//---------------------------------------------------
	var search = window.location.search.substr(3);
	//var search = window.location.search.substr(1);
	var lx = search || 'sh';
	console.log(lx);
	var hash = window.location.hash.substr(3) || 1;
	console.log(hash);
	var data = aData[lx].text[hash - 1];
	console.log(data);
	//---------------------------------------------------
	setLeft();
	setImg();
	setHead();
	setContent();
	setDl();
	//---------------------------------------------------
	//一： 生成左侧列表
	function setLeft() {
		var ul = document.querySelector('.left ul');
		var lis = ul.children;
		aData.list.forEach(function (item,i) {
			var li = document.createElement('li');
			var a = document.createElement('a');
			a.href = 'javascript:;';
			a.innerHTML = aData.list[i].text;
			li.appendChild(a);
			console.log(item.lx);
			li.onclick = function () {
				window.location = 'list.html?s='+ item.lx +'';
				console.log(window.location)
				li.className = 'focus';
			};
			ul.appendChild(li);
		})
		
		if ( search && search == 'xy' ) {
			lis[1].className = 'focus';
		} else {
			lis[0].className = 'focus';
		}
		
	}
	
	//生成右侧图片
	function setImg() {
		var img = document.querySelector('.title img');
		console.log(aData[lx].img)
		img.src = aData[lx].img;
	}
	
	//生成右侧头部
	function setHead() {
		var h2 = document.querySelector('.info h2');
		h2.innerHTML = data.zw;
	}
	
	//生成右侧content
	function setContent() { 
		var content = document.querySelector('.content .span_list');
		var _html = content.innerHTML;
		 _html = _html.replace(/{{gs}}/,data.gs)
                .replace(/{{gz}}/,data.gz)
                .replace(/{{jy}}/,data.jy)
                .replace(/{{rs}}/,data.rs)
                .replace(/{{sj}}/,aData.date(data.sj,1))
                .replace(/{{xz}}/,data.xz)
                .replace(/{{dd}}/,data.dd)
                .replace(/{{xl}}/,data.xl)
                .replace(/{{dy}}/,data.dy)
                .replace(/{{lx}}/,data.lx);

            content.innerHTML = _html;
	}
	
	//生成dl中的内容
	function setDl() {
		var d = document.querySelector('.info .ques')
		var dt = document.createElement('dt');
		dt.innerHTML = '岗位要求：';
		console.log(data.info[0].l.length);
		d.appendChild(dt);
		for ( var i = 0; i < data.info[0].l.length; i++ ) {
			var dd = document.createElement('dd');
			dd.innerHTML = data.info[0].l[i];
			d.appendChild(dd);
		}
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
})();
</script>
</body>
</html>
